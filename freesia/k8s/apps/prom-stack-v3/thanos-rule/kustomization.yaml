apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: temporis

resources:
  - ingress-grpc.yaml
  - ingress-http.yaml
  - service-grpc.yaml
  - service-http.yaml
  - statefulset.yaml

configMapGenerator:
  - name: thanos-rules
    files:
      - config/alerting_rules.yaml

labels:
  - pairs:
      app.kubernetes.io/name: thanos-rule
    includeSelectors: true
  - pairs:
      app.kubernetes.io/instance: thanos
      app.kubernetes.io/component: rule
    includeSelectors: false
