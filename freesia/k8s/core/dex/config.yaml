issuer: https://auth.harvestasya.org
storage:
  type: sqlite3
  config:
    file: /var/dex/dex.db

web:
  http: 0.0.0.0:5556

telemetry:
  http: 0.0.0.0:5558

oauth2:
  responseTypes: ["code", "token", "id_token"]
  skipApprovalScreen: true
  alwaysShowLoginScreen: false
  passwordConnector: local

expiry:
  deviceRequests: "5m"
  signingKeys: "6h"
  idTokens: "24h"

logger:
  level: "debug"
  format: "text" # can also be "json"

staticClients:
  - name: "test1"
    id: 39a325db-e030-4f63-8a1c-96c8ff1e20ea
    secret: dc1324f7-071c-4f47-ab24-f33f96a7a7c8
    redirectURIs:
      - "https://md.suzutan.jp/auth/oauth2/callback"
  - name: "test2"
    id: 4f02a0a9-3b14-4d97-b888-b3b19179e57a
    secret: f02690e7-b31f-465c-aad5-5d6fe753995f
    redirectURIs:
      - "https://spica.suzutan.jp/oauth2/callback"

connectors:
  - type: github
    # Required field for connector id.
    id: github
    # Required field for connector name.
    name: GitHub
    config:
      # Credentials can be string literals or pulled from the environment.
      clientID: 51c3bab28a025efc1ae7
      clientSecret: 28e46d5ff734c69661fa282cf04bbf9401501c5f
      redirectURI: https://auth.harvestasya.org/callback
      orgs:
        - name: harvestasya
      teamNameField: slug

enablePasswordDB: false
